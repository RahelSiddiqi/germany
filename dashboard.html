<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<meta name="theme-color" content="#667eea" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta
			name="apple-mobile-web-app-status-bar-style"
			content="black-translucent" />
		<meta name="mobile-web-app-capable" content="yes" />
		<title>Study Abroad Dashboard - Band 8.0-8.5 IELTS Plan</title>
		<link rel="icon" type="image/svg+xml" href="favicon.svg" />
		<link rel="manifest" href="manifest.json" />
		<link rel="stylesheet" href="dashboard.css" />
		<link rel="stylesheet" href="enhancements.css" />
		<link rel="stylesheet" href="dashboard-band8-styles.css" />
		<style>
			/* Loading screen - prevents flicker */
			#loading-screen {
				position: fixed;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				z-index: 9999;
				transition: opacity 0.3s ease;
			}
			#loading-screen.hidden {
				opacity: 0;
				pointer-events: none;
			}
			#loading-screen .spinner {
				width: 50px;
				height: 50px;
				border: 4px solid rgba(255, 255, 255, 0.3);
				border-top-color: white;
				border-radius: 50%;
				animation: spin 1s linear infinite;
			}
			#loading-screen p {
				color: white;
				margin-top: 20px;
				font-size: 18px;
				font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI',
					Roboto, sans-serif;
			}
			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}
			/* Hide main content until loaded */
			.main-content {
				opacity: 0;
				transition: opacity 0.3s ease;
			}
			.main-content.loaded {
				opacity: 1;
			}
		</style>
	</head>
	<body>
		<!-- Loading Screen -->
		<div id="loading-screen">
			<div class="spinner"></div>
			<p>Loading Dashboard...</p>
		</div>

		<nav class="navbar">
			<div class="nav-container">
				<h1 class="nav-logo">ğŸ“ Study Abroad Hub</h1>
				<button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
			</div>
		</nav>

		<aside class="sidebar" id="sidebar">
			<ul class="menu">
				<li>
					<a href="#dashboard" onclick="showPage('dashboard')"
						>ğŸ“Š Dashboard</a
					>
				</li>
				<li>
					<a
						href="#band8-tracker"
						onclick="showPage('band8-tracker')"
						class="active"
						>ğŸ¯ IELTS 15-Day Plan</a
					>
				</li>
				<li>
					<a
						href="#ielts-practice"
						onclick="showPage('ielts-practice')"
						>ğŸ“š IELTS Practice</a
					>
				</li>
				<li>
					<a href="#ielts" onclick="showPage('ielts')"
						>ğŸ“ IELTS Tracker</a
					>
				</li>
				<li>
					<a href="#germany" onclick="showPage('germany')"
						>ğŸ‡©ğŸ‡ª Germany Universities</a
					>
				</li>
				<li>
					<a href="#scholarships" onclick="showPage('scholarships')"
						>ğŸ’° Scholarships Guide</a
					>
				</li>
				<li>
					<a
						href="#germany-progress"
						onclick="showPage('germany-progress')"
						>ğŸ“ˆ Germany Applications</a
					>
				</li>
				<li>
					<a href="#schengen" onclick="showPage('schengen')"
						>ğŸ‡ªğŸ‡º Schengen Universities</a
					>
				</li>
				<li>
					<a
						href="#schengen-progress"
						onclick="showPage('schengen-progress')"
						>ğŸ“Š Schengen Applications</a
					>
				</li>
				<li>
					<a href="#analytics" onclick="showPage('analytics')"
						>ğŸ“ˆ Analytics & Insights</a
					>
				</li>
				<li>
					<a href="#settings" onclick="showPage('settings')"
						>âš™ï¸ Settings</a
					>
				</li>
			</ul>
		</aside>

		<div
			class="sidebar-overlay"
			id="sidebar-overlay"
			onclick="toggleMenu()"></div>

		<main class="main-content">
			<!-- Band 8.0-8.5 IELTS Tracker Page -->
			<div id="band8-tracker" class="page active">
				<div id="band8-container">
					<div class="loading-message">
						<h2>Loading Band 8.0-8.5 IELTS Plan...</h2>
						<p>Preparing your intensive schedule...</p>
					</div>
				</div>
			</div>

			<!-- Dashboard Page -->
			<div id="dashboard" class="page">
				<h2>ğŸ“Š Dashboard Overview</h2>
				<div class="stats-grid">
					<div class="stat-card ielts">
						<div class="stat-icon">ğŸ“</div>
						<div class="stat-info">
							<h3>IELTS Progress</h3>
							<p class="stat-value" id="ielts-progress">0%</p>
							<p class="stat-detail" id="ielts-tasks">
								0/0 tasks
							</p>
						</div>
					</div>
					<div class="stat-card germany">
						<div class="stat-icon">ğŸ‡©ğŸ‡ª</div>
						<div class="stat-info">
							<h3>Germany Apps</h3>
							<p class="stat-value" id="germany-progress-stat">
								0%
							</p>
							<p class="stat-detail" id="germany-unis">
								0/10 unis
							</p>
						</div>
					</div>
					<div class="stat-card schengen">
						<div class="stat-icon">ğŸ‡ªğŸ‡º</div>
						<div class="stat-info">
							<h3>Schengen Apps</h3>
							<p class="stat-value" id="schengen-progress-stat">
								0%
							</p>
							<p class="stat-detail" id="schengen-unis">
								0/8 unis
							</p>
						</div>
					</div>
					<div class="stat-card deadline">
						<div class="stat-icon">â°</div>
						<div class="stat-info">
							<h3>Next Deadline</h3>
							<p class="stat-value" id="next-deadline">May 31</p>
							<p class="stat-detail" id="deadline-uni">
								TU Munich
							</p>
						</div>
					</div>
				</div>
				<div class="quick-links">
					<h3>Quick Actions</h3>
					<div class="button-grid">
						<button
							onclick="showPage('ielts-practice')"
							class="action-btn ielts-btn">
							<span>ğŸ“š</span> Practice IELTS
						</button>
						<button
							onclick="showPage('germany')"
							class="action-btn germany-btn">
							<span>ğŸ‡©ğŸ‡ª</span> Germany Unis
						</button>
						<button
							onclick="showPage('schengen')"
							class="action-btn schengen-btn">
							<span>ğŸ‡ªğŸ‡º</span> Schengen Unis
						</button>
					</div>
				</div>
			</div>

			<!-- IELTS Practice Page (Folder Browser) -->
			<div id="ielts-practice" class="page">
				<div class="folder-grid" id="ielts-folder-list">
					<!-- Folders will be loaded dynamically -->
				</div>

				<div
					id="ielts-file-list"
					class="file-list"
					style="display: none">
					<button
						class="btn btn-secondary back-btn"
						onclick="showIELTSFolders()">
						â† Back to Folders
					</button>
					<h3 id="current-folder-name">Day 1</h3>
					<div id="ielts-files"></div>
				</div>

				<div
					id="ielts-content-viewer"
					class="md-viewer-container"
					style="display: none">
					<button
						class="btn btn-secondary back-btn"
						onclick="backToFiles()">
						â† Back to Files
					</button>
					<div id="ielts-md-content" class="md-content"></div>
				</div>

				<div
					id="ielts-quiz-container"
					class="quiz-container"
					style="display: none">
					<button
						class="btn btn-secondary back-btn"
						onclick="backToFiles()">
						â† Back
					</button>
					<div id="quiz-content"></div>
				</div>
			</div>

			<!-- IELTS Tracker Page -->
			<div id="ielts" class="page">
				<h2>ğŸ“ IELTS Band 8.5 Tracker</h2>
				<div class="ielts-tracker-container">
					<div class="legend">
						<span class="legend-item listening">ğŸŸ¦ Listening</span>
						<span class="legend-item reading">ğŸŸ© Reading</span>
						<span class="legend-item writing">ğŸŸ¨ Writing</span>
						<span class="legend-item speaking">ğŸŸª Speaking</span>
						<span class="legend-item vocab">ğŸŸ§ Vocab</span>
						<span class="legend-item mock">ğŸŸ¥ Mock</span>
					</div>
					<div id="ielts-plan-content"></div>
				</div>
			</div>

			<!-- Germany Universities Page -->
			<div id="germany" class="page">
				<h2>ğŸ‡©ğŸ‡ª Germany Universities - Cyber Security</h2>
				<div id="germany-list" class="university-list"></div>
			</div>

			<!-- Scholarships Guide Page -->
			<div id="scholarships" class="page">
				<h2>ğŸ’° Scholarships & Funding</h2>
				<div id="scholarship-content"></div>
			</div>

			<!-- Germany Progress Page -->
			<div id="germany-progress" class="page">
				<h2>ğŸ“ˆ Germany Application Progress</h2>
				<div class="form-section">
					<h3>â• Add University</h3>
					<label
						>University Name:
						<input
							type="text"
							id="germany-uni-name"
							placeholder="e.g., TU Munich"
					/></label>
					<label
						>Status:
						<select id="germany-uni-status">
							<option value="not_started">ğŸ”µ Not Started</option>
							<option value="researching">ğŸŸ¡ Researching</option>
							<option value="preparing">ğŸŸ  Preparing</option>
							<option value="submitted">ğŸŸ¢ Submitted</option>
							<option value="admitted">âœ… Admitted</option>
							<option value="rejected">âŒ Rejected</option>
						</select>
					</label>
					<button onclick="addGermanyUniversity()">
						Add University
					</button>
				</div>
				<div id="germany-progress-list" class="progress-list"></div>
			</div>

			<!-- Schengen Universities Page -->
			<div id="schengen" class="page">
				<h2>ğŸ‡ªğŸ‡º Schengen Universities - Cyber Security</h2>
				<div id="schengen-list" class="university-list"></div>
			</div>

			<!-- Schengen Progress Page -->
			<div id="schengen-progress" class="page">
				<h2>ğŸ“Š Schengen Application Progress</h2>
				<div class="form-section">
					<h3>â• Add University</h3>
					<label
						>University Name:
						<input
							type="text"
							id="schengen-uni-name"
							placeholder="e.g., University of Tartu"
					/></label>
					<label
						>Status:
						<select id="schengen-uni-status">
							<option value="not_started">ğŸ”µ Not Started</option>
							<option value="researching">ğŸŸ¡ Researching</option>
							<option value="preparing">ğŸŸ  Preparing</option>
							<option value="submitted">ğŸŸ¢ Submitted</option>
							<option value="admitted">âœ… Admitted</option>
							<option value="rejected">âŒ Rejected</option>
						</select>
					</label>
					<button onclick="addSchengenUniversity()">
						Add University
					</button>
				</div>
				<div id="schengen-progress-list" class="progress-list"></div>
			</div>

			<!-- Analytics & Insights Page -->
			<div id="analytics" class="page">
				<h2>ğŸ“ˆ Analytics & Insights</h2>
				<div class="card" style="padding: 16px; margin-bottom: 16px">
					<h3>ğŸ“Š Study Progress</h3>
					<p>
						Tasks completed: <strong id="insights-tasks">0</strong>
					</p>
					<p>
						Weighted points:
						<strong id="insights-weighted">0</strong>
					</p>
				</div>
				<div class="card" style="padding: 16px">
					<h3>ğŸ”” Quick Actions</h3>
					<div
						style="
							display: flex;
							gap: 8px;
							flex-wrap: wrap;
							margin-top: 12px;
						">
						<button
							class="btn btn-secondary"
							onclick="checkDeadlinesManually()">
							ğŸ” Check Deadlines
						</button>
						<button
							class="btn btn-secondary"
							onclick="enableNotifications()">
							ğŸ”” Enable Notifications
						</button>
					</div>
				</div>
			</div>

			<!-- Settings Page -->
			<div id="settings" class="page">
				<h2>âš™ï¸ Settings & Data Management</h2>
				<div class="settings-section">
					<h3>ğŸ“¦ Data Management</h3>
					<div class="settings-option">
						<div class="option-label">
							<h4>Export All Data</h4>
							<p>Download backup of all your progress</p>
						</div>
						<button class="btn btn-primary" onclick="exportData()">
							ğŸ’¾ Export
						</button>
					</div>
					<div class="settings-option">
						<div class="option-label">
							<h4>Import Data</h4>
							<p>Restore from previous backup</p>
						</div>
						<input
							type="file"
							id="import-file"
							accept=".json"
							style="display: none"
							onchange="importData(this)" />
						<button
							class="btn btn-secondary"
							onclick="document.getElementById('import-file').click()">
							ğŸ“‚ Import
						</button>
					</div>
					<div class="settings-option">
						<div class="option-label">
							<h4>Storage Usage</h4>
							<p id="storage-usage">Calculating...</p>
						</div>
					</div>
				</div>
				<div class="settings-section">
					<h3>ğŸ”” Notifications</h3>
					<div class="settings-option">
						<div class="option-label">
							<h4>Browser Notifications</h4>
							<p>Get deadline alerts</p>
						</div>
						<button
							class="btn btn-secondary"
							onclick="enableNotifications()">
							Enable
						</button>
					</div>
				</div>
				<div class="settings-section">
					<h3>ğŸ¨ Appearance</h3>
					<div class="settings-option">
						<div class="option-label">
							<h4>Dark Mode</h4>
							<p>Toggle dark theme</p>
						</div>
						<button
							class="btn btn-secondary"
							onclick="toggleDarkMode()">
							ğŸŒ™ Toggle
						</button>
					</div>
				</div>
				<div class="settings-section">
					<h3>âš ï¸ Danger Zone</h3>
					<div class="settings-option">
						<div class="option-label">
							<h4>Clear All Data</h4>
							<p>Delete all progress permanently</p>
						</div>
						<button class="btn btn-danger" onclick="clearAllData()">
							ğŸ—‘ï¸ Clear
						</button>
					</div>
				</div>
				<div class="settings-section">
					<h3>â„¹ï¸ About</h3>
					<p>
						Study Abroad Dashboard v2.1<br />All data stored locally
						in your browser.
					</p>
				</div>
			</div>
		</main>

		<!-- Notification Container -->
		<div id="notification-container" class="notification-container"></div>

		<!-- Floating Action Button -->
		<button
			class="fab"
			onclick="showPage('dashboard')"
			title="Back to Dashboard">
			ğŸ 
		</button>

		<!-- Scripts -->
		<script src="master-plan.js"></script>
		<script src="data-manager.js"></script>
		<script src="notification-manager.js"></script>
		<script src="analytics-manager.js"></script>
		<script src="dashboard.js"></script>
		<script src="dashboard-band8-integration.js"></script>
		<script src="ielts-viewer.js"></script>
		<script src="ielts-quiz.js"></script>
		<script src="settings-ui.js"></script>
	</body>
</html>
